<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comandas Digitais - Boteco do Zé</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&family=Montserrat:wght@500;700&family=Poppins:wght@600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="sidebar" id="sidebar">
        <div class="sidebar-top">
            <span class="clock" id="clock"></span>
            <input type="text" class="search-bar" id="searchBar" placeholder="Pesquisar comandas...">
            <span class="total-debt" id="totalDebt">Total na rua: R$ 0,00</span>
            <button id="addComanda">Adicionar Comanda</button>
            <button id="addProduto">Adicionar Produto</button>
            <button id="deleteProduto">Excluir Produto</button>
            <button id="exportCSV" class="nav-btn">Exportar CSV</button>
        </div>
        <div class="sidebar-bottom">
            <button class="nav-btn active" data-tab="comandas">Comandas</button>
            <button class="nav-btn" data-tab="historico">Histórico</button>
            <button class="nav-btn" data-tab="fluxo">Fluxo de Caixa</button>
            <button class="nav-btn" data-tab="estoque">Estoque</button>
            <button class="nav-btn" id="toggleTheme">Alternar Tema</button>
        </div>
    </div>
    <div class="header">
        <img src="imagens/bangu.png" alt="Logo Boteco do Zé" class="logo">
        <div class="title">Boteco do Zé</div>
    </div>
    <div class="container" id="container">
        <div id="comandas" class="tab-content active">
            <div id="openComandas"></div>
            <div class="empty-message" id="emptyMessage">Nenhuma comanda adicionada</div>
        </div>
        <div id="historico" class="tab-content">
            <table class="history-table" id="historyTable">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Nome</th>
                        <th>Total</th>
                        <th>Data de Fechamento</th>
                    </tr>
                </thead>
                <tbody id="historyBody"></tbody>
            </table>
        </div>
        <div id="fluxo" class="tab-content">
            <div class="empty-message">Funcionalidade de Fluxo de Caixa em desenvolvimento</div>
        </div>
        <div id="estoque" class="tab-content">
            <div class="empty-message">Funcionalidade de Estoque em desenvolvimento</div>
        </div>
    </div>
    <div class="toast" id="toast"></div>

    <div class="popup-overlay" id="popupOverlay" role="dialog" aria-labelledby="popupTitle">
        <div class="popup" id="popup">
            <div class="popup-header">
                <span id="popupTitle">Detalhes da Comanda</span>
                <button class="close-btn" onclick="closePopup()" aria-label="Fechar">×</button>
            </div>
            <div class="popup-content" id="popupContent">
                <table class="popup-table">
                    <thead>
                        <tr>
                            <th>Produto</th>
                            <th>Preço</th>
                            <th>Quantidade</th>
                            <th>Total</th>
                        </tr>
                    </thead>
                    <tbody id="popupTableBody"></tbody>
                </table>
            </div>
            <div class="popup-total" id="popupTotal">Total: R$ 0,00</div>
            <button class="share-btn" title="Compartilhar Comanda como PDF"><i class="fab fa-whatsapp"></i></button>
        </div>
    </div>

    <div id="qrcode" style="display: none;"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="script.js"></script>
</body>
</html>